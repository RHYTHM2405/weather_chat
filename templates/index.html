<!doctype html>
<select id="sttLang" title="STT language (auto, en, ja)" aria-label="STT language">
<option value="auto">Auto</option>
<option value="en">English</option>
<option value="ja">Japanese</option>
</select>
</div>


<!-- Login / Register button -->
<button id="loginOpenBtn" class="btn ghost" title="Open login sidebar">Login / Register</button>


<!-- Location button -->
<button id="locBtn" class="btn ghost" title="Detect my city">📍 Detect city</button>


<!-- Clear chat -->
<button id="clearBtn" class="btn ghost" title="Clear conversation">Clear chat</button>
</div>
</header>


<section id="conversation" class="conversation" aria-live="polite"></section>


<div>
<div style="display:flex;align-items:center;gap:8px;margin-bottom:8px">
<div id="statusSmall" class="small">Ready</div>
</div>


<div class="chatbar">
<div class="inputwrap">
<input id="userInput" type="text" placeholder="e.g. What should I do in Kyoto today?" aria-label="Message input"/>
<div class="righticons">
<button id="micBtn" class="micbtn" title="Start/stop recording" aria-label="Toggle microphone">🎤</button>
</div>
</div>
<button id="enterBtn" class="enterbtn">Enter</button>
</div>
</div>
</div>


<div id="toast" style="position:fixed;right:18px;bottom:18px;z-index:9999"></div>


<!-- RIGHT SIDEBAR (LOGIN) -->
<div id="rightSidebar" class="right-sidebar" aria-hidden="true">
<div class="right-sidebar-header">
<h2>Login</h2>
<button id="rightSidebarClose" class="sidebar-close" aria-label="Close login panel">✕</button>
</div>


<form class="login-form" onsubmit="return false;">
<label for="username">Username</label>
<input id="username" type="text" placeholder="Enter username" required />


<label for="password">Password</label>
<input id="password" type="password" placeholder="Enter password" required />


<button class="btn" type="submit">Login</button>
<button class="btn ghost" type="button" id="registerBtn">Register as new user</button>


<div class="google-login">
<button id="googleLoginBtn" type="button" class="btn" style="background:#fff;color:#333;display:flex;align-items:center;gap:8px;justify-content:center;border:1px solid #ddd;">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 488 512" width="18" height="18"><path fill="#EA4335" d="M488 261.8c0-17.4-1.6-34.1-4.6-50.4H249v95.3h134.3c-5.8 31-23.3 57.3-49.6 75v62.4h80.1c46.9-43.2 73.2-106.9 73.2-182.3z"/><path fill="#34A853" d="M249 492c66.5 0 122.3-22 162.9-59.9l-80.1-62.4c-22.3 15-50.9 23.9-82.8 23.9-63.7 0-117.8-42.9-137.2-100.4H29.6v63.4C69.7 439.4 153.5 492 249 492z"/><path fill="#4A90E2" d="M111.8 293.3c-9.7-28.8-9.7-60.2 0-89l.1-.5V140.4H29.6c-19.6 38.4-30.8 81.8-30.8 128s11.2 89.6 30.8 128h82.2v-63.4l-.1-.7z"/><path fill="#FBBC05" d="M249 97.7c35.9 0 68.2 12.4 93.7 36.6l70.1-70.1C371.3 26.3 315.5 0 249 0 153.5 0 69.7 52.6 29.6 140.4l82.3 63.4C131.2 140.6 185.3 97.7 249 97.7z"/></svg>
<span>Sign in with Google</span>
</button>
</div>
</form>
</div>


<!-- Overlay for dimming background -->
<div id="rightSidebarOverlay" class="sidebar-overlay" aria-hidden="true"></div>


<script src="app.js"></script>
<script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.6/dist/purify.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</body>
</html>